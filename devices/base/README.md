# Base Device – הגדרות והנחיות מימוש

## מה זה Device?
"רכיב" במערכת הוא ישות פיזית או מדומה (סימולטור) שיש לה:
- מזהים: `id` ייחודי, `name` תיאורי, `type` (למשל `psu`, `rf_gen`, `awg`).
- מצב (state): `connected | disconnected | busy | fault`.
- יכולות (`capabilities`): רשימת מפתחות פעולה וקריאה, המשמשת את השכבות הגבוהות.

## אחריות רכיב
- לנהל את החיבור/ניתוק (connect/disconnect).
- לספק קריאות מדידה (`read(key)`) ופעולות (`set(key, value)`) לפי capabilities.
- להגן על המכשיר מפני שימוש מחוץ לטווחים (באמצעות ולידציה).
- לזרוק חריגות מוגדרות (ראה errors.py) במקרה של בעיות תקשורת או חוקים עסקיים.

## כללי מימוש
- כל רכיב יורש מ־BaseDevice ומממש את כל המתודות המופיעות ב־contracts.md.
- כל ערך `read()` מחזיר גם יחידה ידועה מראש (מוגדרת במסמכי הטיפוס).
- אסור להחזיר ערכים חלקיים; במקרה של שגיאה ב־read/set → חריגה מתאימה.

## סבבי חיי־מחזור (Lifecycle)
1. יצירה (`__init__`) – הכנת המזהים, טעינת capabilities ורמות טווחים.
2. `connect()` – פתיחת תקשורת עם הרכיב.
3. `operate` – קריאות `read` / `set`.
4. `disconnect()` – סגירת תקשורת וניקוי משאבים.
